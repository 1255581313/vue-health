(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c0803252"],{"2f2a":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-left"}},[n("div",{staticClass:"chatting"},[n("div",{staticClass:"chatting-header"},[n("div",{staticClass:"chatting-back"},[n("i",{class:[t.isRedAI?"icon-back":"icon-back2"],on:{click:function(e){return t.$router.push("/AI")}}},[t._v("ai")])]),n("div",{staticClass:"chatting-title"},[n("h2",[n("i",{staticClass:"icon-group"}),t._v("群聊")])]),n("div",{staticClass:"chatting-menu"},[n("i",{staticClass:"icon-menu",on:{click:function(e){return t.$router.push("/")}}},[t._v("主页")])])]),n("div",{ref:"chattingContent",staticClass:"chatting-content",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.isShowEmoji=!1}}},t._l(t.msgs,(function(e){return n("div",[e.self?n("div",{staticClass:"chatting-item self clearfix"},[n("div",{staticClass:"msg-date"},[t._v(" "+t._s(e.date)+" ")]),n("div",{staticClass:"msg-from"},[n("span",{staticClass:"loc"},[t._v("["+t._s(e.loc)+"]")]),n("span",{staticClass:"msg-author"},[t._v(t._s(e.from))]),n("img",{attrs:{src:e.avatarUrl,alt:""}})]),n("div",{staticClass:"msg-content"},[t._v(t._s(e.content))])]):n("div",{staticClass:"chatting-item other clearfix"},[n("div",{staticClass:"msg-date"},[t._v(" "+t._s(e.date)+" ")]),n("div",{staticClass:"msg-from"},[n("img",{attrs:{src:e.avatarUrl,alt:""}}),n("span",{staticClass:"loc"},[t._v("["+t._s(e.loc)+"]")]),n("span",{staticClass:"msg-author"},[t._v(t._s(e.from))])]),n("div",{staticClass:"msg-content"},[t._v(t._s(e.content))])])])})),0),n("div",{staticClass:"chatting-input"},[n("transition",{attrs:{name:"slide-bottom"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowEmoji,expression:"isShowEmoji"}],staticClass:"emoji-display"},[n("ul",t._l(t.emojis,(function(e){return n("li",{on:{click:function(n){return t.insertText(e)}}},[t._v(t._s(e))])})),0)])]),n("div",{staticClass:"emoji"},[n("i",{staticClass:"icon-emoji",on:{click:function(e){return t.showEmoji(t.isShowEmoji=!t.isShowEmoji)}}})]),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputContent,expression:"inputContent",modifiers:{trim:!0}}],ref:"textarea",attrs:{placeholder:"左上角还有智能机器人哦"},domProps:{value:t.inputContent},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send.apply(null,arguments)},input:[function(e){e.target.composing||(t.inputContent=e.target.value.trim())},t.newLine],blur:function(e){return t.$forceUpdate()}}}),n("button",{on:{click:t.send}},[t._v("发送")])],1)])])},i=[],o=(n("e9c4"),n("b0c0"),{name:"Chatting",data:function(){return{msgs:localStorage.msgs_group&&JSON.parse(localStorage.msgs_group)||[],inputContent:"",oContent:{},oTextarea:{},emojis:["😂","🙏","😄","😏","😇","😅","😌","😘","😍","🤓","😜","😎","😊","😳","🙄","😱","😒","😔","😷","👿","🤗","😩","😤","😣","😰","😴","😬","😭","👻","👍","✌️","👉","👀","🐶","🐷","😹","⚡️","🔥","🌈","🍏","⚽️","❤️","🇨🇳"],isShowEmoji:!1,isRedAI:!1,name:"",avatarUrl:"",addr:"未知",isShowAbout:!1}},watch:{msgs:function(t){localStorage.msgs_group=JSON.stringify(t)}},mounted:function(){var t=this;localStorage.name="bite",setInterval((function(){return t.isRedAI=!t.isRedAI}),2500),this.oContent=document.querySelector(".chatting-content"),this.oContent.scrollTop=this.oContent.scrollHeight,this.oTextarea=document.querySelector("textarea"),this.oContent.scrollTop=this.oContent.scrollHeight},methods:{random:function(t){return Math.floor(t*Math.random())},send:function(){var t=this;this.isShowEmoji=!1,""!==this.inputContent&&(this.msgs.push({date:new Date,loc:localStorage.addr,from:"".concat(localStorage.name),content:this.inputContent,self:!0,avatarUrl:this.avatarUrl}),this.inputContent="",setTimeout((function(){return t.oContent.scrollTop=t.oContent.scrollHeight}),0))},showEmoji:function(t){this.isShowEmoji=t},insertText:function(t){t+=" ";var e=this.$refs.textarea;if(document.selection){var n=document.selection.createRange();n.text=t}else if("number"===typeof e.selectionStart&&"number"===typeof e.selectionEnd){var s=e.selectionStart,i=(e.selectionEnd,s),o=e.value;this.inputContent=o.substring(0,s)+t+o.substring(s,o.length),i+=t.length,e.selectionStart=e.selectionEnd=i}else e.value+=t;this.newLine()},newLine:function(){var t=this;setTimeout((function(){return t.oTextarea.scrollTop=t.oTextarea.scrollHeight}),0)}}}),a=o,r=(n("3f9a"),n("2877")),c=Object(r["a"])(a,s,i,!1,null,"400d397f",null);e["default"]=c.exports},"3f9a":function(t,e,n){"use strict";n("9e66")},"9e66":function(t,e,n){}}]);