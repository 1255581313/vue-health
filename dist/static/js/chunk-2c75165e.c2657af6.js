(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c75165e"],{"498a":function(t,n,e){"use strict";var i=e("23e7"),r=e("58a8").trim,o=e("c8d2");i({target:"String",proto:!0,forced:o("trim")},{trim:function(){return r(this)}})},5899:function(t,n){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,n,e){var i=e("e330"),r=e("1d80"),o=e("577e"),a=e("5899"),s=i("".replace),c="["+a+"]",u=RegExp("^"+c+c+"*"),d=RegExp(c+c+"*$"),l=function(t){return function(n){var e=o(r(n));return 1&t&&(e=s(e,u,"")),2&t&&(e=s(e,d,"")),e}};t.exports={start:l(1),end:l(2),trim:l(3)}},"61f7":function(t,n,e){"use strict";e.r(n),e.d(n,"idCard",(function(){return i})),e.d(n,"mobileReg",(function(){return r})),e.d(n,"address",(function(){return o})),e.d(n,"userName",(function(){return a})),e.d(n,"emailReg",(function(){return s})),e.d(n,"isExternal",(function(){return c})),e.d(n,"validUsername",(function(){return u})),e.d(n,"validURL",(function(){return d})),e.d(n,"validLowerCase",(function(){return l})),e.d(n,"validUpperCase",(function(){return f})),e.d(n,"validAlphabets",(function(){return p})),e.d(n,"validEmail",(function(){return v})),e.d(n,"isString",(function(){return m})),e.d(n,"isArray",(function(){return g}));e("498a"),e("ac1f"),e("00b4"),e("d3b7");var i=/^[1-9]{1}[0-9]{14}$|^[1-9]{1}[0-9]{16}([0-9]|[xX])$/,r=/^1[0-9]{10}$/,o=function(t){var n=t.trim();return n.length>=5&&n.length<=100},a=/^[a-zA-Z0-9_\u4e00-\u9fa5]{3,20}$/,s=/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/;function c(t){return/^(https?:|mailto:|tel:)/.test(t)}function u(t){var n=["admin","editor"];return n.indexOf(t.trim())>=0}function d(t){var n=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;return n.test(t)}function l(t){var n=/^[a-z]+$/;return n.test(t)}function f(t){var n=/^[A-Z]+$/;return n.test(t)}function p(t){var n=/^[A-Za-z]+$/;return n.test(t)}function v(t){var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(t)}function m(t){return"string"===typeof t||t instanceof String}function g(t){return"undefined"===typeof Array.isArray?"[object Array]"===Object.prototype.toString.call(t):Array.isArray(t)}},a2c0:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"login"},[e("div",{staticClass:"tab"},[e("h3",{class:t.isLoginPassword?"":"active",on:{click:function(n){t.isLoginPassword=!1}}},[t._v(" 手机登录 ")]),e("h3",{class:t.isLoginPassword?"active":"",on:{click:function(n){t.isLoginPassword=!0}}},[t._v(" 密码登录 ")])]),e("div",{staticClass:"content"},[t.isLoginPassword?t._e():e("div",{staticClass:"login-telphone card"},[e("div",{staticClass:"line"},[e("div",[t._v("手机号")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"number"},domProps:{value:t.phone},on:{input:function(n){n.target.composing||(t.phone=n.target.value)}}})])]),e("div",{staticClass:"line"},[e("div",[t._v("验证码")]),e("div",{staticClass:"line-inner"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"number"},domProps:{value:t.code},on:{input:function(n){n.target.composing||(t.code=n.target.value)}}}),e("span",{staticClass:"code",on:{click:t.getCode}},[t._v("发送验证码")])])]),t._m(0),e("div",{staticClass:"submit"},[e("button",{staticClass:"btn btn-primary",on:{click:t.login}},[t._v("登录")])])]),t.isLoginPassword?e("div",{staticClass:"login-password card"},[e("div",{staticClass:"line"},[e("div",[t._v("用户名/邮箱/手机号")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],domProps:{value:t.account},on:{input:function(n){n.target.composing||(t.account=n.target.value)}}})])]),e("div",{staticClass:"line"},[e("div",[t._v("密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],domProps:{value:t.password},on:{input:function(n){n.target.composing||(t.password=n.target.value)}}})]),e("div",{staticClass:"toAction"},[e("router-link",{staticClass:"btn",attrs:{to:"/forget"}},[t._v("忘记密码")])],1),e("div",{staticClass:"submit"},[e("button",{staticClass:"btn btn-primary",on:{click:t.login}},[t._v("登录")])])]):t._e(),e("div",{staticClass:"link"},[t._e(),e("router-link",{staticClass:"btn",attrs:{to:"/register"}},[t._v("注册")])],1)])])},r=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"toAction"},[e("span",{staticClass:"text"},[t._v("没注册自动注册")])])}],o=e("ade3"),a=(e("ac1f"),e("00b4"),e("d3b7"),e("e9c4"),e("f3e4")),s=e("61f7"),c={name:"",components:{},props:{},data:function(){return{isLogining:!1,isLoginPassword:!0,account:"test",password:"123456",phone:"",code:""}},computed:{},watch:{},created:function(){},mounted:function(){},update:function(){},methods:{login:function(){var t=this;this.isLogining=!0;var n={};if(this.isLoginPassword){var e,i="";i=s["mobileReg"].test(this.account)?"phone":s["emailReg"].test(this.account)?"email":"username",e={},Object(o["a"])(e,i,this.account),Object(o["a"])(e,"password",this.password),n=e}else n={phone:this.phone,code:this.code};var r=this;fetch("/api/login/login",{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json"}}).then((function(t){if(t.ok)return t.json()})).then((function(n){r.isLogining=!1,Object(a["c"])("freelance",n.token);var e=t.$route.query.redirect;e?r.$router.push(e):r.$router.push({path:"./user"})})).catch((function(t){console.error("Error:",t),r.isLogining=!1,alert(t)}))},getCode:function(){var t={};t=this.isLoginPassword?{email:this.email}:{phone:this.phone},fetch("/api/login/captcha",{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(t){if(t.ok)return t.json()})).then((function(){})).catch((function(t){console.error("Error:",t)}))}}},u=c,d=e("2877"),l=Object(d["a"])(u,i,r,!1,null,"7d830192",null);n["default"]=l.exports},ade3:function(t,n,e){"use strict";function i(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}e.d(n,"a",(function(){return i}))},c8d2:function(t,n,e){var i=e("5e77").PROPER,r=e("d039"),o=e("5899"),a="​᠎";t.exports=function(t){return r((function(){return!!o[t]()||a[t]()!==a||i&&o[t].name!==t}))}}}]);